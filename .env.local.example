# =============================================================================
# LOCAL DEVELOPMENT - Minimal Setup
# =============================================================================
# Copy this file to .env to get started: cp .env.local.example .env
# See detailed guide: docs/LOCAL_TESTING_GUIDE.md
# =============================================================================

# =============================================================================
# REQUIRED API KEYS - All 6 are mandatory for the pipeline to work
# =============================================================================

# 1. GEMINI API (Required - AI editing plan generation)
# Get your key at: https://makersuite.google.com/app/apikey
# Free tier: 60 requests/minute
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-pro

# 2. WHISPER (Required - Audio transcription, runs locally)
# No API key needed, just install: pip install -U openai-whisper
# Models: tiny, base (recommended), small, medium, large
WHISPER_MODEL=base
WHISPER_USE_LOCAL=true

# 3. GOOGLE SHEETS API (Required - Transcript storage)
# Setup guide: docs/LOCAL_TESTING_GUIDE.md#3-google-sheets-api
# 1. Create Google Cloud project
# 2. Enable Google Sheets API
# 3. Create service account and download JSON credentials
# 4. Create a Google Sheet and share it with the service account email
GOOGLE_SHEETS_SPREADSHEET_ID=your_spreadsheet_id_here
GOOGLE_SHEETS_CREDENTIALS=./google-credentials.json

# 4. PEXELS API (Required - B-roll stock footage)
# Get your key at: https://www.pexels.com/api/
# Free tier: 200 requests/hour, 20,000/month
PEXELS_API_KEY=your_pexels_api_key_here

# 5. PIXABAY API (Required - Sound effects)
# Get your key at: https://pixabay.com/api/docs/
# Free tier: 5,000 requests/hour (same key works for images and sound effects)
# Note: You can use the same API key as Pexels if you have both
PIXABAY_API_KEY=your_pixabay_api_key_here
SOUND_EFFECTS_PROVIDER=pixabay
SOUND_EFFECTS_CACHE_ENABLED=true

# 6. YOUTUBE DATA API v3 (Required - Video upload)
# Setup guide: docs/LOCAL_TESTING_GUIDE.md#5-youtube-data-api-v3
# 1. Enable YouTube Data API in Google Cloud Console
# 2. Configure OAuth consent screen
# 3. Create OAuth 2.0 Client ID
YOUTUBE_CLIENT_ID=your_youtube_client_id_here
YOUTUBE_CLIENT_SECRET=your_youtube_client_secret_here
YOUTUBE_REDIRECT_URI=http://localhost:3000/oauth/callback

# =============================================================================
# LOCAL CONFIGURATION - Required for local development
# =============================================================================

# Storage directories (will be created automatically if they don't exist)
TEMP_DIR=./temp
CACHE_DIR=./cache

# Redis configuration (job queue)
# Start Redis: docker run -d -p 6379:6379 redis:7-alpine
REDIS_HOST=localhost
REDIS_PORT=6379

# Server configuration
PORT=3000
NODE_ENV=development

# =============================================================================
# OPTIONAL - Notifications (uncomment to enable)
# =============================================================================

# Notification method: webhook, email, sms, or telegram
# NOTIFICATION_METHOD=webhook

# Webhook endpoint (Discord, Slack, etc.)
# Discord: https://discord.com/api/webhooks/YOUR_WEBHOOK_ID
# Slack: https://hooks.slack.com/services/YOUR_WEBHOOK_URL
# NOTIFICATION_ENDPOINT=https://discord.com/api/webhooks/your-webhook-url

# Telegram Bot (alternative to webhook)
# Get token from @BotFather on Telegram
# NOTIFICATION_METHOD=telegram
# TELEGRAM_BOT_TOKEN=your_telegram_bot_token
# TELEGRAM_CHAT_ID=your_telegram_chat_id

# Operator email for error alerts
# NOTIFICATION_OPERATOR_EMAIL=operator@example.com

# =============================================================================
# TESTING CONFIGURATION (optional)
# =============================================================================

# Enable debug logging for testing
# LOG_LEVEL=debug

# Test mode (skips actual API calls, uses mocks)
# TEST_MODE=false

# =============================================================================
# QUICK START CHECKLIST
# =============================================================================
# ✅ 1. Install system dependencies:
#       - Node.js 18+
#       - Python 3.8+
#       - FFmpeg
#       - Redis (or use Docker)
#
# ✅ 2. Install Python packages:
#       pip install -U openai-whisper auto-editor
#
# ✅ 3. Install Node packages:
#       npm install
#
# ✅ 4. Get API keys (see links above):
#       - Gemini API key
#       - Google Sheets credentials
#       - Pexels API key
#       - Pixabay API key (for sound effects)
#       - YouTube OAuth credentials
#
# ✅ 5. Copy this file:
#       cp .env.local.example .env
#
# ✅ 6. Fill in all API keys in .env file
#
# ✅ 7. Start Redis:
#       docker run -d -p 6379:6379 redis:7-alpine
#
# ✅ 8. Run the application:
#       npm run dev (API server)
#       npm run worker (worker node)
#
# ✅ 9. Run tests:
#       npm test
#
# ✅ 10. See detailed testing guide:
#        docs/LOCAL_TESTING_GUIDE.md
#
# =============================================================================
# TROUBLESHOOTING
# =============================================================================
# If you encounter issues, check:
# - docs/LOCAL_TESTING_GUIDE.md (comprehensive troubleshooting section)
# - docs/SETUP_INSTRUCTION.md (detailed API setup instructions)
# - logs/error.log (application error logs)
# - logs/combined.log (all application logs)
#
# Common issues:
# - Redis not running: docker run -d -p 6379:6379 redis:7-alpine
# - Missing API keys: Check all 6 required keys are filled in
# - Google Sheets permission: Share sheet with service account email
# - YouTube OAuth: Add your email as test user in OAuth consent screen
# =============================================================================
