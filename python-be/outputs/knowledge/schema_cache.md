# Schema Cache Data (schema_cache.json)

The `schema_cache.json` file, located in `python-be/outputs/knowledge/`, serves as a cache for SHA-256 hashes of all validated JSON schema files found in the knowledge base. This mechanism is crucial for efficiently detecting changes in schema definitions without needing to re-process the entire schema content every time.

## Purpose

-   **Change Detection**: By storing hashes, the system can quickly determine if a JSON schema file has been modified. This allows for optimized re-ingestion or re-validation processes, only triggering full processing when a schema actually changes.
-   **Integrity Check**: Provides a lightweight way to verify the integrity of the schemas used by the AI pipeline.
-   **Performance Optimization**: Avoids redundant parsing and validation of unchanged schema files during knowledge base synchronization.

## Structure

The `schema_cache.json` file is a JSON object where:

-   **Keys**: Are the `identifier` (relative path) of the JSON schema files (e.g., `element_schema.json`).
-   **Values**: Are the SHA-256 hash strings of the content of the corresponding schema file.

Example:
```json
{
  "element_schema.json": "a1b2c3d4e5f67890abcdef1234567890abcdef1234567890abcdef1234567890",
  "another_schema.json": "f0e9d8c7b6a54321fedcba9876543210fedcba9876543210fedcba9876543210"
}
```

## Generation

This file is generated by the `KnowledgeBaseIngestor` (specifically the `persist` method) as part of the `sync_knowledge_base` process. During ingestion, a SHA-256 hash is computed for each JSON schema file's content and stored in this cache.

## Usage

The `KnowledgeRepository` or other ingestion components can use this cache to compare current schema hashes with stored ones. If a hash mismatch is detected, it signals that the schema has been updated, prompting a full re-processing of the affected schema and potentially dependent knowledge assets.